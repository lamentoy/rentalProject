{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  name: \"secondPage\",\n  mounted: function mounted() {\n    console.log(this.$route.params.searchLocations);\n    console.log(this.$route.params.searchLocations2);\n    console.log(this.$route.params.LocationTypes);\n    this.searchLocations = this.$route.params.searchLocations;\n    this.searchLocations2 = this.$route.params.searchLocations2;\n    this.LocationTypes = this.$route.params.LocationTypes;\n    this.favList = localStorage.getItem('favList');\n    this.searchNearbyLocations();\n  },\n  data: function data() {\n    return {\n      searchLocations: [],\n      searchLocations2: [],\n      LocationTypes: [],\n      types: [\"hospital\", \"restaurant\", \"supermarket\"],\n      results: [],\n      favList: []\n    };\n  },\n  methods: {\n    searchNearbyLocations: function searchNearbyLocations() {\n      var _this = this;\n\n      var _loop = function _loop(i) {\n        var lat = _this.searchLocations[i].viewport.Ab.h;\n        var lng = _this.searchLocations[i].viewport.Va.h;\n        console.log(lat);\n        console.log(lng);\n\n        _this.results.push([_this.searchLocations[i].shortName, []]);\n\n        var _loop2 = function _loop2(j) {\n          var URL = \"https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=\".concat(lat, \",\").concat(lng, \"&type=\").concat(_this.types[j], \"&radius=500&key=AIzaSyDYmXO6pRRuMXAAMe2dlaWaynac17ZZMUE\");\n          axios.get(URL).then(function (response) {\n            var result = response.data.results;\n            console.log(result);\n\n            _this.results[i][1].push([_this.types[j], result]);\n          }).catch(function (error) {\n            console.log(error.message);\n          });\n        };\n\n        for (var j = 0; j < _this.types.length; j++) {\n          _loop2(j);\n        }\n\n        var URL = \"https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=\".concat(lat, \",\").concat(lng, \"&keyword=tram_stop&radius=500&key=AIzaSyDYmXO6pRRuMXAAMe2dlaWaynac17ZZMUE\");\n        axios.get(URL).then(function (response) {\n          var result = response.data.results;\n          console.log(result);\n\n          _this.results[i][1].push([\"tram stop\", result]);\n        }).catch(function (error) {\n          console.log(error.message);\n        });\n        console.log(_this.results);\n      };\n\n      for (var i = 0; i < this.searchLocations.length; i++) {\n        _loop(i);\n      }\n    },\n    addtoFavorite: function addtoFavorite(element) {\n      //   if(this.favList && this.favList.length>0){\n      //       this.favList.push(element)\n      //   }else{\n      //       this.favList = []\n      //       this.favList.push(element)\n      //   }\n      //   localStorage.setItem('favList', this.favList);\n      console.log(element); //console.log(this.favList)\n    },\n    checkIfAdded: function checkIfAdded(element) {\n      var k = false; //console.log(this.favList)\n\n      console.log(element); //   if(this.favList && this.favList.length>0){\n      //   this.favList.forEach(item=>{\n      //       if(item[0]==element[0]){\n      //           k=true\n      //       }\n      //   })}\n\n      return k;\n    } //   rateThePlace(){\n    //       this.results.forEach(result=>{\n    //       })\n    //   }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;AAcA;AACA;EACAA,kBADA;EAEAC,OAFA,qBAEA;IACAC;IACAA;IACAA;IACA;IACA;IACA;IACA;IACA;EAEA,CAZA;EAaAC,IAbA,kBAaA;IACA;MACAC,mBADA;MAEAC,oBAFA;MAGAC,iBAHA;MAIAC,gDAJA;MAKAC,WALA;MAMAC;IANA;EASA,CAvBA;EAwBAC;IACAC,qBADA,mCACA;MAAA;;MAAA,2BACAC,CADA;QAEA;QACA;QACAV;QACAA;;QACA;;QANA,6BAOAW,CAPA;UAQA;UAEAC;YACA;YACAZ;;YACA;UAGA,CANA,EAOAa,KAPA,CAOA;YACAb;UACA,CATA;QAVA;;QAOA;UAAA;QAaA;;QACA;QAEAY;UACA;UACAZ;;UACA;QAGA,CANA,EAOAa,KAPA,CAOA;UACAb;QACA,CATA;QAUAA;MAjCA;;MACA;QAAA;MAiCA;IAGA,CAtCA;IAuCAc,aAvCA,yBAuCAC,OAvCA,EAuCA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAf,qBARA,CASA;IACA,CAjDA;IAkDAgB,YAlDA,wBAkDAD,OAlDA,EAkDA;MACA,cADA,CAEA;;MACAf,qBAHA,CAIA;MACA;MACA;MACA;MACA;MAEA;;MACA;IAEA,CA/DA,CAgEA;IACA;IAGA;IAEA;;EAtEA;AAxBA","names":["name","mounted","console","data","searchLocations","searchLocations2","LocationTypes","types","results","favList","methods","searchNearbyLocations","i","j","axios","catch","addtoFavorite","element","checkIfAdded"],"sourceRoot":"src/views","sources":["secondPage.vue"],"sourcesContent":["<template>\n  <div class=\"second_Page\">\n     <div class='result'>Result showing</div>\n      <div class='eachResult' v-for='(element) in results' :key=\"element[0]\">{{element[0]}}:\n     <div v-for='(item) in element[1]' :key=\"element[0]+item[0]\">{{item[0]}}:{{item[1].length}}</div>\n     <el-button @click=\"addtoFavorite(element)\" v-if=\"!checkIfAdded(element)\">+</el-button>\n     <el-button icon=\"el-icon-check\" v-if=\"checkIfAdded(element)\"></el-button>\n     </div>\n     <div class=\"search\"><el-button>Search Again</el-button></div>\n     \n  </div>\n</template>\n\n<script>\nimport axios from \"axios\"\nexport default {\n    name:\"secondPage\",\n    mounted(){\n        console.log(this.$route.params.searchLocations)\n        console.log(this.$route.params.searchLocations2)\n        console.log(this.$route.params.LocationTypes)\n        this.searchLocations=this.$route.params.searchLocations\n        this.searchLocations2=this.$route.params.searchLocations2\n        this.LocationTypes=this.$route.params.LocationTypes\n        this.favList = localStorage.getItem('favList');\n        this.searchNearbyLocations()\n   \n  },\n  data(){\n    return{\n        searchLocations:[],\n        searchLocations2:[],\n        LocationTypes:[],\n        types:[\"hospital\",\"restaurant\",\"supermarket\"],\n        results:[],\n        favList:[]\n      \n    }\n  },\n  methods:{\n      searchNearbyLocations(){\n        for(let i =0;i<this.searchLocations.length;i++){\n              const lat = this.searchLocations[i].viewport.Ab.h\n              const lng= this.searchLocations[i].viewport.Va.h\n              console.log(lat)\n              console.log(lng)\n              this.results.push([this.searchLocations[i].shortName,[]])\n              for(let j =0;j<this.types.length;j++){\n              const URL=`https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${lat},${lng}&type=${this.types[j]}&radius=500&key=AIzaSyDYmXO6pRRuMXAAMe2dlaWaynac17ZZMUE`;\n        \n              axios.get(URL).then(response=>{\n                  let result=response.data.results\n                  console.log(result);\n                  this.results[i][1].push([this.types[j],result])\n                  \n                  \n              })\n              .catch(error=>{\n                  console.log(error.message)\n              })\n              }\n              const URL=`https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${lat},${lng}&keyword=tram_stop&radius=500&key=AIzaSyDYmXO6pRRuMXAAMe2dlaWaynac17ZZMUE`;\n        \n              axios.get(URL).then(response=>{\n                  let result=response.data.results\n                  console.log(result);\n                  this.results[i][1].push([\"tram stop\",result])\n                  \n                  \n              })\n              .catch(error=>{\n                  console.log(error.message)\n              })\n              console.log(this.results)\n          }\n          \n\n      },\n      addtoFavorite(element){\n        //   if(this.favList && this.favList.length>0){\n        //       this.favList.push(element)\n        //   }else{\n        //       this.favList = []\n        //       this.favList.push(element)\n        //   }\n        //   localStorage.setItem('favList', this.favList);\n        console.log(element)\n        //console.log(this.favList)\n      },\n      checkIfAdded(element){\n          var k=false\n          //console.log(this.favList)\n          console.log(element)\n        //   if(this.favList && this.favList.length>0){\n        //   this.favList.forEach(item=>{\n        //       if(item[0]==element[0]){\n        //           k=true\n        //       }\n\n        //   })}\n          return k\n\n      }\n    //   rateThePlace(){\n    //       this.results.forEach(result=>{\n              \n\n    //       })\n          \n    //   }\n\n  \n  }\n\n}\n</script>\n\n<style lang=\"less\" scoped>\n .second_Page {\n\n    padding:0 20px;\n    width:calc(100% - 40px);\n    margin:auto;\n    height:80%;\n    position: fixed;\n    overflow: scroll;\n    .eachResult{\n        border: 1px solid orange;\n        padding: 20px;\n        margin-bottom:20px;\n    }\n    .el-icon-info{\n        size:8px;\n        color:orange;\n    }\n    .clickable{\n        cursor: pointer;\n    }\n    .mg-bt-10{\n        margin-bottom: 10px;\n    }\n    .operations{\n        display: flex;\n        justify-content: space-between;\n    }\n    .el-input{\n        width:100%;\n        margin:20px 0;\n    }\n    .search {\n         margin: auto;\n         margin-top:20px;\n         width:200px;\n      .el-button{\n       border: 1px solid orange;\n        width:200px;\n        color:orange;\n    }}\n    .result{\n       margin: 20px 0;\n       border:1px solid orange;\n       \n       color:orange;\n       font-weight: bold;\n       padding:10px;\n    \n    }\n  }\n</style>"]},"metadata":{},"sourceType":"module"}