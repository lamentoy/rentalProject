{"ast":null,"code":"import \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.array.splice.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport '../assets/fonts/style.css';\nexport default {\n  name: \"reviewPage\",\n  mounted: function mounted() {\n    this.src = this.$route.params.src;\n    this.title = this.$route.params.title;\n    var pre = this.$route.params.pre;\n    this.favList = this.$store.state.favList1;\n\n    if (pre == 1) {\n      this.result = true;\n      this.searchLocations = this.$route.params.searchLocations;\n      this.searchLocations2 = this.$route.params.searchLocations2;\n      this.LocationTypes = this.$route.params.LocationTypes;\n    }\n\n    this.checkFav();\n  },\n  data: function data() {\n    return {\n      src: \"\",\n      title: \"\",\n      value1: 4,\n      value2: 4,\n      value3: 3,\n      value4: 0,\n      value5: 0,\n      value6: 0,\n      favLoc: false,\n      searchLocations: [],\n      searchLocations2: [],\n      LocationTypes: [],\n      favList: [],\n      // \"searchLocations\":this.searchLocations,\"searchLocations2\":this.searchLocations2,\"LocationTypes\":this.LocationTypes\n      result: false,\n      comment: '',\n      comments: [],\n      people: 10,\n      index: -1,\n      iconClasses: ['icon-rate-face-1', 'icon-rate-face-2', 'icon-rate-face-3'],\n      iconClasses1: ['icon-rate-face-3', 'icon-rate-face-2', 'icon-rate-face-1'],\n      dialogVisible: false\n    };\n  },\n  methods: {\n    submitComments: function submitComments() {\n      if (this.comment != \"\") {\n        this.comments.push(\"\" + this.comment);\n        this.people += 1;\n        this.value1 = ((this.value4 + this.value1 * (this.people - 1)) / this.people).toFixed(1);\n        this.value2 = ((this.value5 + this.value2 * (this.people - 1)) / this.people).toFixed(1);\n        this.value3 = ((this.value6 + this.value3 * (this.people - 1)) / this.people).toFixed(1);\n        this.comment = \"\";\n        this.value4 = 0;\n        this.value5 = 0;\n        this.value6 = 0;\n        this.dialogVisible = false;\n        this.$message.success('Comment submitted!');\n      } else {\n        this.$message.error('Please enter a valid comment!');\n      }\n    },\n    addtoFavorite: function addtoFavorite() {\n      this.favList.push(this.title);\n      this.$store.commit(\"updatefavList1\", this.favList);\n      this.favLoc = true;\n      this.$message.success('You like the place!');\n    },\n    removeFromFavorite: function removeFromFavorite() {\n      this.index = this.favList.indexOf(this.title);\n      this.favList.splice(this.index, 1);\n      this.$store.commit(\"updatefavList1\", this.favList);\n      this.favLoc = false;\n      this.$message.error('You unlike the place!');\n    },\n    checkFav: function checkFav() {\n      this.index = this.favList.indexOf(this.title);\n\n      if (this.index == -1) {\n        this.favLoc = false;\n      } else {\n        this.favLoc = true;\n      }\n    },\n    cancelComments: function cancelComments() {\n      this.dialogVisible = false;\n      this.comment = \"\";\n      this.value4 = 0;\n      this.value5 = 0;\n      this.value6 = 0;\n    },\n    resultPage: function resultPage() {\n      this.$router.push({\n        name: 'firstPage',\n        params: {\n          \"pre\": 2,\n          \"searchLocations\": this.searchLocations,\n          \"searchLocations2\": this.searchLocations2,\n          \"LocationTypes\": this.LocationTypes\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgKA;AACA;EACAA,kBADA;EAEAC,OAFA,qBAEA;IACA;IACA;IACA;IACA;;IACA;MACA;MACA;MACA;MACA;IAEA;;IACA;EAEA,CAhBA;EAiBAC,IAjBA,kBAiBA;IACA;MACAC,OADA;MAEAC,SAFA;MAGAC,SAHA;MAIAC,SAJA;MAKAC,SALA;MAMAC,SANA;MAOAC,SAPA;MAQAC,SARA;MASAC,aATA;MAUAC,mBAVA;MAWAC,oBAXA;MAYAC,iBAZA;MAaAC,WAbA;MAcA;MACAC,aAfA;MAgBAC,WAhBA;MAiBAC,YAjBA;MAkBAC,UAlBA;MAmBAC,SAnBA;MAoBAC,yEApBA;MAqBAC,0EArBA;MAsBAC;IAtBA;EAwBA,CA1CA;EA2CAC;IACAC,cADA,4BACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA,CAZA,MAaA;QACA;MACA;IACA,CAlBA;IAmBAC,aAnBA,2BAmBA;MACA;MACA;MACA;MACA;IACA,CAxBA;IAyBAC,kBAzBA,gCAyBA;MACA;MACA;MACA;MACA;MACA;IACA,CA/BA;IAgCAC,QAhCA,sBAgCA;MACA;;MACA;QACA;MAEA,CAHA,MAGA;QACA;MACA;IACA,CAxCA;IAyCAC,cAzCA,4BAyCA;MACA;MACA;MACA;MACA;MACA;IAGA,CAjDA;IAkDAC,UAlDA,wBAkDA;MACA,kBACA;QACA9B,iBADA;QAEA+B;UAAA;UAAA;UAAA;UAAA;QAAA;MAFA,CADA;IAOA;EA1DA;AA3CA","names":["name","mounted","data","src","title","value1","value2","value3","value4","value5","value6","favLoc","searchLocations","searchLocations2","LocationTypes","favList","result","comment","comments","people","index","iconClasses","iconClasses1","dialogVisible","methods","submitComments","addtoFavorite","removeFromFavorite","checkFav","cancelComments","resultPage","params"],"sourceRoot":"src/views","sources":["review.vue"],"sourcesContent":["<template>\n  <div class=\"communityReview\">\n      <div class=\"titleName\"><span/>Community Review Page</div>\n      <div class=\"firstline\"><el-button v-if=\"result\" @click=\"resultPage\">Back to result page</el-button>\n      <el-button v-if=\"!result\" @click=\"$router.push('/community')\">Back to community page</el-button>\n      </div>\n      <div class=\"Mainc\">\n      <div class=\"profileCard\">\n          <div><img :src=\"src\"/></div>\n          <div class=\"profileBody\">\n              <div class=\"profileTitle\">{{title}}</div>\n              <div class=\"favLists\">\n                <div class=\"favIcon clickable\" @click=\"addtoFavorite()\" v-if=\"!favLoc\" ><img src=\"../assets/addFav.png\" /></div>\n                <div class=\"favIcon clickable\" @click=\"removeFromFavorite()\" v-if=\"favLoc\" ><img src=\"../assets/removeFav.png\" /></div>\n              <div class=\"writeReview\" @click=\"dialogVisible=true\"><i class=\"el-icon-star-off\"/><i class=\"el-icon-edit-outline\"/></div>\n              </div>\n              <div class=\"profileRating\">\n              <div>Noisy Level:\n                <el-rate\n                disabled\n                show-score\n                v-model=\"value1\"\n                :icon-classes=\"iconClasses1\"\n                disabled-void-color=\"rgb(198, 209, 222)\"\n                score-template=\"  Level {value}\"\n                disabled-void-icon-class=\"icon-rate-face-off\"\n                :colors=\"['#FF9900', '#F7BA2A', '#99A9BF']\">\n                </el-rate>\n             </div>\n              <div>Safety Level:\n                <el-rate\n                v-model=\"value2\"\n                disabled\n                show-score\n                :icon-classes=\"iconClasses\"\n                score-template=\"  Level {value}\"\n                disabled-void-color=\"rgb(198, 209, 222)\"\n                disabled-void-icon-class=\"icon-rate-face-off\"\n                :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\">\n                </el-rate>\n              </div>\n              <div>Environment:\n                <el-rate\n                v-model=\"value3\"\n                disabled\n                :icon-classes=\"iconClasses\"\n                show-score\n                score-template=\"  Level {value}\"\n                disabled-void-color=\"rgb(198, 209, 222)\"\n                disabled-void-icon-class=\"icon-rate-face-off\"\n                :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\">\n                </el-rate>\n              </div>\n               \n              </div>\n              <div class=\"profileFooter\"><i class=\"el-icon-info\"/>Average rating ({{people}} ratings in total)</div>\n          </div>\n      </div>\n      <div class=\"Comments\">\n          <div class=\"comment\">\n          <div class=\"peoples\">\n          <el-avatar src=\"https://img.syt5.com/2021/0519/20210519083837846.jpg.420.420.jpg\"></el-avatar>\n          <span>Josh</span>\n          </div>\n          <div>The place is nice but a little bit noisy at night.</div>\n          \n          </div>\n          <div class=\"comment\">\n          <div class=\"peoples\">\n          <el-avatar src=\"https://img.syt5.com/2021/0127/20210127085935853.jpg.420.420.jpg\"></el-avatar>\n          <span>Kate</span>\n          </div>\n          <div>I lived near this place and I don't like it. Prepare moving to other house.</div>\n          </div>\n          <div class=\"comment\">\n              <div class=\"peoples\">\n          <el-avatar src=\"https://img.syt5.com/2021/0127/20210127085207772.png.420.420.jpg\"></el-avatar>\n          <span>Elisa</span>\n          </div>\n          <div>Easy to buy stuff's here!!!</div>\n          </div>\n          <div class=\"comment\">\n          <div class=\"peoples\">\n           <el-avatar src=\"https://img.syt5.com/2021/0826/20210826091718477.jpg.420.420.jpg\"></el-avatar>\n          <span>Lanbert</span>\n          </div>\n          <div>A lot of people here at night, feeling safe when i went home late.</div>\n          </div>\n          <div  v-if=\"comments.length>0\">\n          <div class=\"comment myself\" v-for=\"(c,index) in comments\" :key=\"index+c\">\n            <div class=\"peoples\">\n            <el-avatar src=\"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png\"></el-avatar>\n             <span>me</span>\n          </div>\n    \n          <div>{{c}}</div>\n          </div>\n          </div>\n\n\n\n\n      </div>\n      <el-dialog\n      title=\"Rating and Comments\"\n      :visible.sync=\"dialogVisible\"\n      :close-on-click-modal=\"false\"\n      :show-close=\"false\"\n      :modal=\"false\"\n      width=\"400px\"\n      >\n      <div class=\"profileRating\">\n              <div>Noisy Level \n                <el-rate\n                v-model=\"value4\"\n                show-score\n                :icon-classes=\"iconClasses1\"\n                score-template=\"  Level {value}\"\n                text-color=\"#ff9900\"\n                void-icon-class=\"icon-rate-face-off\"\n                :colors=\"['#FF9900', '#F7BA2A', '#99A9BF']\">\n                </el-rate>\n             </div>\n              <div>Safety Level\n                <el-rate\n                v-model=\"value5\"\n                :icon-classes=\"iconClasses\"\n                text-color=\"#ff9900\"\n                score-template=\"  Level {value}\"\n                show-score\n                void-icon-class=\"icon-rate-face-off\"\n                :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\">\n                </el-rate>\n              </div>\n              <div>Environment\n                <el-rate\n                v-model=\"value6\"\n                :icon-classes=\"iconClasses\"\n                score-template=\"  Level {value}\"\n                text-color=\"#ff9900\"\n                show-score\n                void-icon-class=\"icon-rate-face-off\"\n                :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\">\n                </el-rate>\n              </div>\n              <div>Comments:\n                  <el-input type=\"textarea\" v-model=\"comment\"></el-input>\n              </div>\n              <div class=\"buttons\">\n              <el-button @click=\"submitComments\">Submit</el-button>\n              <el-button @click=\"cancelComments\">Cancel</el-button>\n              </div>\n        </div>\n\n      </el-dialog>\n      </div>\n  </div>\n</template>\n\n<script>\nimport '../assets/fonts/style.css'\nexport default {\n    name:\"reviewPage\",\n    mounted(){\n        this.src=this.$route.params.src\n        this.title=this.$route.params.title\n        let pre=this.$route.params.pre\n        this.favList = this.$store.state.favList1\n        if(pre==1){\n            this.result=true\n             this.searchLocations=this.$route.params.searchLocations\n            this.searchLocations2=this.$route.params.searchLocations2\n            this.LocationTypes=this.$route.params.LocationTypes\n\n        }\n        this.checkFav()\n      \n    },\n    data(){\n        return{\n            src:\"\",\n            title:\"\",\n            value1: 4,\n            value2: 4,\n            value3: 3,\n            value4: 0,\n            value5: 0,\n            value6: 0,\n            favLoc:false,\n            searchLocations:[],\n            searchLocations2:[],\n            LocationTypes:[],\n            favList:[],\n           // \"searchLocations\":this.searchLocations,\"searchLocations2\":this.searchLocations2,\"LocationTypes\":this.LocationTypes\n            result:false,\n            comment:'',\n            comments:[],\n            people:10,\n            index:-1,\n            iconClasses: ['icon-rate-face-1', 'icon-rate-face-2', 'icon-rate-face-3'],\n            iconClasses1: ['icon-rate-face-3', 'icon-rate-face-2', 'icon-rate-face-1'],\n            dialogVisible:false\n        }\n    },\n    methods:{\n        submitComments(){\n            if(this.comment!=\"\"){\n            this.comments.push(\"\"+this.comment)\n            this.people+=1\n            this.value1=((this.value4+this.value1*(this.people-1))/this.people).toFixed(1)\n            this.value2=((this.value5+this.value2*(this.people-1))/this.people).toFixed(1)\n            this.value3=((this.value6+this.value3*(this.people-1))/this.people).toFixed(1)\n            this.comment=\"\"\n            this.value4=0\n            this.value5=0\n            this.value6=0\n            this.dialogVisible=false\n            this.$message.success('Comment submitted!')\n            }\n            else{\n                this.$message.error('Please enter a valid comment!')\n            }\n        },\n        addtoFavorite(){\n            this.favList.push(this.title)\n            this.$store.commit(\"updatefavList1\",this.favList)\n            this.favLoc=true\n            this.$message.success('You like the place!')\n        },\n        removeFromFavorite(){\n            this.index=this.favList.indexOf(this.title)\n            this.favList.splice(this.index,1)\n             this.$store.commit(\"updatefavList1\",this.favList)\n            this.favLoc=false\n            this.$message.error('You unlike the place!')\n        },\n        checkFav(){\n            this.index=this.favList.indexOf(this.title)\n            if(this.index==-1){\n                this.favLoc=false\n\n            }else{\n                this.favLoc=true\n            }\n        },\n        cancelComments(){\n            this.dialogVisible=false\n            this.comment=\"\"\n            this.value4= 0\n            this.value5= 0\n            this.value6= 0\n         \n\n        },\n        resultPage(){\n            this.$router.push(\n                {\n                    name:'firstPage',\n                    params:{\"pre\":2,\"searchLocations\":this.searchLocations,\"searchLocations2\":this.searchLocations2,\"LocationTypes\":this.LocationTypes}\n                }\n            )\n\n        },\n        \n    }\n\n}\n</script>\n\n<style lang=\"less\" scoped>\n.communityReview {\n    margin:40px;\n    height:80vh;\n    margin-top:60px;\n     margin-left:calc(14% + 40px);\n    background: white;\n    position: fixed;\n    width:calc(85% - 80px);\n    \n    .Mainc{\n         display: flex;\n       \n          \n\n    }\n    \n    .profileCard{\n        box-sizing: border-box;\n        width:calc(35%);\n        height: 70vh;\n        border: 1px solid #a1c4fd;\n        margin-left:50px;\n        margin-top:30px;\n        box-shadow: 0 0 8px #89b6ff;\n\n        img{\n            width:100%;\n            height: 40vh;\n        }\n        .profileBody{\n            width:100%;\n             overflow: scroll;\n            .profileTitle{\n                font-family: 'Courier New', Courier, monospace;\n                font-size:25px;\n                text-align: center;\n                margin-bottom: 10px;\n            }\n            .profileFooter{\n                 margin-bottom: 20px;\n                 margin-right:20px;\n                text-align: right;\n                i{\n                    color:orange;\n                }\n                font-size: 12px;\n                \n                //align-items: center;\n\n            \n            }\n            .favLists{\n                display: flex;\n                justify-content: space-between;\n                margin: 20px;\n                margin-top:0;\n                .favIcon, img{\n                         width:16px;\n                         height: 16px;\n                     }\n                div{\n                     cursor: pointer;\n                }\n            .writeReview{\n                 cursor: pointer;\n            }}\n            .profileRating{\n                 padding-left: 30px;\n                 padding-right:30px;\n                div{\n                    display: flex;\n                    justify-content: space-between;\n                    margin-bottom: 1vh;\n                }\n                .el-rate{\n                    margin-left:20px;\n                    \n                }\n            }\n        }\n    }\n        .Comments{\n            height:70vh;\n            width:calc(60% - 40px - 40px);\n            border: 1px solid #a1c4fd;\n            box-shadow: 0 0 8px #89b6ff;\n             overflow: scroll;\n            margin-left:40px;\n            margin-top:30px;\n            padding: 30px;\n            box-sizing: border-box;\n            .comment{\n                display: flex;\n                align-items: center;\n                box-shadow: 0 0 8px #89b6ff;\n                background: #b6d2ff;\n                padding: 20px;\n                margin-bottom:30px;\n               \n                &.myself{\n                    background: white;\n                }\n                .peoples{\n                    align-items: center;\n                    justify-content: center;\n                    padding: 5px;\n                    display: flex;\n                    flex-direction:column;\n                    .span{\n                        font-weight: bold;\n                    }\n                    // border:1px solid black;\n                    // background: #d9e4f4;\n                   \n                    \n                }\n                div:nth-of-type(2){\n                    \n                    margin-left:20px;\n                     word-break: break-word;\n                   // overflow: scroll;\n\n                }\n\n            }\n\n        }\n        .el-dialog{\n           padding: 20px;\n            text-align: center;\n\n            .buttons{\n                width:100%;\n               \n                .el-button{\n                    background:#a1c4fd;\n                }\n                \n            }\n            .profileRating{\n\n                div{\n                    //display: flex;\n                    margin-bottom: 10px;\n                   \n                }\n                .el-rate{\n                   // margin-left:20px;\n                    \n                }\n            }\n        }\n        .firstline{\n        .el-button{\n            position:absolute;\n            top:-30px;\n            right:0;\n            height:30px;\n            width:200px;\n            padding: 0;\n        }}\n        .titleName{\n            background: white;\n            text-align: center;\n            position:absolute;\n            display: flex;\n            align-items: center;\n            top:-30px;\n            height:30px;\n            width:250px;\n            padding: 0;\n            border-radius: 3px 3px 0 0;\n            span{\n                display: inline-block;\n                height: 20px;\n                margin:5px;\n                margin-left:15px;\n                 margin-right:10px;\n                width:5px;\n                background: #89b6ff;\n            }\n        }\n        \n    }\n\n</style>"]},"metadata":{},"sourceType":"module"}