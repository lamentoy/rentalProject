{"ast":null,"code":"import _classCallCheck from \"/Users/lamentoyy/Desktop/rental_project/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/lamentoyy/Desktop/rental_project/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport { remove } from \"./util\";\nvar defaultOptions = {\n  selector: \"img\"\n};\n\nvar LazyContainer = /*#__PURE__*/function () {\n  function LazyContainer(_ref) {\n    var el = _ref.el,\n        binding = _ref.binding,\n        vnode = _ref.vnode,\n        lazy = _ref.lazy;\n\n    _classCallCheck(this, LazyContainer);\n\n    this.el = null;\n    this.vnode = vnode;\n    this.binding = binding;\n    this.options = {};\n    this.lazy = lazy;\n    this.queue = [];\n    this.update({\n      el: el,\n      binding: binding\n    });\n  }\n\n  _createClass(LazyContainer, [{\n    key: \"update\",\n    value: function update(_ref2) {\n      var _this = this;\n\n      var el = _ref2.el,\n          binding = _ref2.binding;\n      this.el = el;\n      this.options = Object.assign({}, defaultOptions, binding.value);\n      var imgs = this.getImgs();\n      imgs.forEach(function (el2) {\n        _this.lazy.add(el2, Object.assign({}, _this.binding, {\n          value: {\n            src: \"dataset\" in el2 ? el2.dataset.src : el2.getAttribute(\"data-src\"),\n            error: (\"dataset\" in el2 ? el2.dataset.error : el2.getAttribute(\"data-error\")) || _this.options.error,\n            loading: (\"dataset\" in el2 ? el2.dataset.loading : el2.getAttribute(\"data-loading\")) || _this.options.loading\n          }\n        }), _this.vnode);\n      });\n    }\n  }, {\n    key: \"getImgs\",\n    value: function getImgs() {\n      return Array.from(this.el.querySelectorAll(this.options.selector));\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this2 = this;\n\n      var imgs = this.getImgs();\n      imgs.forEach(function (el) {\n        return _this2.lazy.remove(el);\n      });\n      this.vnode = null;\n      this.binding = null;\n      this.lazy = null;\n    }\n  }]);\n\n  return LazyContainer;\n}();\n\nvar LazyContainerManager = /*#__PURE__*/function () {\n  function LazyContainerManager(_ref3) {\n    var lazy = _ref3.lazy;\n\n    _classCallCheck(this, LazyContainerManager);\n\n    this.lazy = lazy;\n    this.queue = [];\n  }\n\n  _createClass(LazyContainerManager, [{\n    key: \"bind\",\n    value: function bind(el, binding, vnode) {\n      var container = new LazyContainer({\n        el: el,\n        binding: binding,\n        vnode: vnode,\n        lazy: this.lazy\n      });\n      this.queue.push(container);\n    }\n  }, {\n    key: \"update\",\n    value: function update(el, binding, vnode) {\n      var container = this.queue.find(function (item) {\n        return item.el === el;\n      });\n      if (!container) return;\n      container.update({\n        el: el,\n        binding: binding,\n        vnode: vnode\n      });\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind(el) {\n      var container = this.queue.find(function (item) {\n        return item.el === el;\n      });\n      if (!container) return;\n      container.clear();\n      remove(this.queue, container);\n    }\n  }]);\n\n  return LazyContainerManager;\n}();\n\nexport { LazyContainerManager as default };","map":{"version":3,"names":["remove","defaultOptions","selector","LazyContainer","el","binding","vnode","lazy","options","queue","update","Object","assign","value","imgs","getImgs","forEach","el2","add","src","dataset","getAttribute","error","loading","Array","from","querySelectorAll","LazyContainerManager","container","push","find","item","clear","default"],"sources":["/Users/lamentoyy/Desktop/rental_project/node_modules/vant/es/lazyload/vue-lazyload/lazy-container.js"],"sourcesContent":["import { remove } from \"./util\";\nconst defaultOptions = {\n  selector: \"img\"\n};\nclass LazyContainer {\n  constructor({ el, binding, vnode, lazy }) {\n    this.el = null;\n    this.vnode = vnode;\n    this.binding = binding;\n    this.options = {};\n    this.lazy = lazy;\n    this.queue = [];\n    this.update({ el, binding });\n  }\n  update({ el, binding }) {\n    this.el = el;\n    this.options = Object.assign({}, defaultOptions, binding.value);\n    const imgs = this.getImgs();\n    imgs.forEach((el2) => {\n      this.lazy.add(el2, Object.assign({}, this.binding, {\n        value: {\n          src: \"dataset\" in el2 ? el2.dataset.src : el2.getAttribute(\"data-src\"),\n          error: (\"dataset\" in el2 ? el2.dataset.error : el2.getAttribute(\"data-error\")) || this.options.error,\n          loading: (\"dataset\" in el2 ? el2.dataset.loading : el2.getAttribute(\"data-loading\")) || this.options.loading\n        }\n      }), this.vnode);\n    });\n  }\n  getImgs() {\n    return Array.from(this.el.querySelectorAll(this.options.selector));\n  }\n  clear() {\n    const imgs = this.getImgs();\n    imgs.forEach((el) => this.lazy.remove(el));\n    this.vnode = null;\n    this.binding = null;\n    this.lazy = null;\n  }\n}\nclass LazyContainerManager {\n  constructor({ lazy }) {\n    this.lazy = lazy;\n    this.queue = [];\n  }\n  bind(el, binding, vnode) {\n    const container = new LazyContainer({\n      el,\n      binding,\n      vnode,\n      lazy: this.lazy\n    });\n    this.queue.push(container);\n  }\n  update(el, binding, vnode) {\n    const container = this.queue.find((item) => item.el === el);\n    if (!container)\n      return;\n    container.update({ el, binding, vnode });\n  }\n  unbind(el) {\n    const container = this.queue.find((item) => item.el === el);\n    if (!container)\n      return;\n    container.clear();\n    remove(this.queue, container);\n  }\n}\nexport {\n  LazyContainerManager as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}