{"ast":null,"code":"import \"core-js/modules/es.number.to-fixed.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport '../assets/fonts/style.css';\nexport default {\n  name: \"reviewPage\",\n  mounted: function mounted() {\n    this.src = this.$route.params.src;\n    this.title = this.$route.params.title;\n    var pre = this.$route.params.pre;\n\n    if (pre == 1) {\n      this.result = true;\n      this.searchLocations = this.$route.params.searchLocations;\n      this.searchLocations2 = this.$route.params.searchLocations2;\n      this.LocationTypes = this.$route.params.LocationTypes;\n    }\n\n    console.log(this.searchLocations);\n    console.log(this.searchLocations2);\n    console.log(this.LocationTypes);\n  },\n  data: function data() {\n    return {\n      src: \"\",\n      title: \"\",\n      value1: 4,\n      value2: 4,\n      value3: 3,\n      value4: 0,\n      value5: 0,\n      value6: 0,\n      searchLocations: [],\n      searchLocations2: [],\n      LocationTypes: [],\n      // \"searchLocations\":this.searchLocations,\"searchLocations2\":this.searchLocations2,\"LocationTypes\":this.LocationTypes\n      result: false,\n      comment: '',\n      comments: [],\n      people: 10,\n      iconClasses: ['icon-rate-face-1', 'icon-rate-face-2', 'icon-rate-face-3'],\n      iconClasses1: ['icon-rate-face-3', 'icon-rate-face-2', 'icon-rate-face-1'],\n      dialogVisible: false\n    };\n  },\n  methods: {\n    submitComments: function submitComments() {\n      if (this.comment != \"\") {\n        this.comments.push(this.comment);\n        this.people += 1;\n        this.value1 = ((this.value4 + this.value1 * (this.people - 1)) / this.people).toFixed(1);\n        this.value2 = ((this.value5 + this.value2 * (this.people - 1)) / this.people).toFixed(1);\n        this.value3 = ((this.value6 + this.value3 * (this.people - 1)) / this.people).toFixed(1);\n        this.comment = \"\";\n        this.value4 = 0;\n        this.value5 = 0;\n        this.value6 = 0;\n        this.dialogVisible = false;\n        this.$message.success('Comment submitted!');\n      } else {\n        this.$message.error('Please enter a valid comment');\n      }\n    },\n    cancelComments: function cancelComments() {\n      this.dialogVisible = false;\n      this.comment = \"\";\n      this.value4 = 0;\n      this.value5 = 0;\n      this.value6 = 0;\n    },\n    resultPage: function resultPage() {\n      this.$router.push({\n        name: 'firstPage',\n        params: {\n          \"pre\": 2,\n          \"searchLocations\": this.searchLocations,\n          \"searchLocations2\": this.searchLocations2,\n          \"LocationTypes\": this.LocationTypes\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;AACA;EACAA,kBADA;EAEAC,OAFA,qBAEA;IACA;IACA;IACA;;IACA;MACA;MACA;MACA;MACA;IAEA;;IACAC;IACAA;IACAA;EACA,CAhBA;EAiBAC,IAjBA,kBAiBA;IACA;MACAC,OADA;MAEAC,SAFA;MAGAC,SAHA;MAIAC,SAJA;MAKAC,SALA;MAMAC,SANA;MAOAC,SAPA;MAQAC,SARA;MASAC,mBATA;MAUAC,oBAVA;MAWAC,iBAXA;MAYA;MACAC,aAbA;MAcAC,WAdA;MAeAC,YAfA;MAgBAC,UAhBA;MAiBAC,yEAjBA;MAkBAC,0EAlBA;MAmBAC;IAnBA;EAqBA,CAvCA;EAwCAC;IACAC,cADA,4BACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MAEA,CAbA,MAcA;QACA;MACA;IACA,CAnBA;IAoBAC,cApBA,4BAoBA;MACA;MACA;MACA;MACA;MACA;IAEA,CA3BA;IA4BAC,UA5BA,wBA4BA;MACA,kBACA;QACAzB,iBADA;QAEA0B;UAAA;UAAA;UAAA;UAAA;QAAA;MAFA,CADA;IAOA;EApCA;AAxCA","names":["name","mounted","console","data","src","title","value1","value2","value3","value4","value5","value6","searchLocations","searchLocations2","LocationTypes","result","comment","comments","people","iconClasses","iconClasses1","dialogVisible","methods","submitComments","cancelComments","resultPage","params"],"sourceRoot":"src/views","sources":["mreview.vue"],"sourcesContent":["<template>\n  <div class=\"communityReview\">\n      <div class=\"titleName\"><span/>Community Review Page</div>\n      <div class=\"profileCard\">\n          <div><img :src=\"src\"/></div>\n          <div class=\"profileBody\">\n              <div class=\"profileTitle\">{{title}}</div>\n              <div class=\"writeReview\" @click=\"dialogVisible=true\"><i class=\"el-icon-star-off\"/><i class=\"el-icon-edit-outline\"/></div>\n              <div class=\"profileRating\">\n              <div>Noisy Level:\n                <el-rate\n                disabled\n                show-score\n                v-model=\"value1\"\n                :icon-classes=\"iconClasses1\"\n                disabled-void-color=\"rgb(198, 209, 222)\"\n                score-template=\"  Level {value}\"\n                disabled-void-icon-class=\"icon-rate-face-off\"\n                :colors=\"['#FF9900', '#F7BA2A', '#99A9BF']\">\n                </el-rate>\n             </div>\n              <div>Safety Level:\n                <el-rate\n                v-model=\"value2\"\n                disabled\n                show-score\n                :icon-classes=\"iconClasses\"\n                score-template=\"  Level {value}\"\n                disabled-void-color=\"rgb(198, 209, 222)\"\n                disabled-void-icon-class=\"icon-rate-face-off\"\n                :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\">\n                </el-rate>\n              </div>\n              <div>Environment:\n                <el-rate\n                v-model=\"value3\"\n                disabled\n                :icon-classes=\"iconClasses\"\n                show-score\n                score-template=\"  Level {value}\"\n                disabled-void-color=\"rgb(198, 209, 222)\"\n                disabled-void-icon-class=\"icon-rate-face-off\"\n                :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\">\n                </el-rate>\n              </div>\n               \n              </div>\n              <div class=\"profileFooter\"><i class=\"el-icon-info\"/>Average rating (({{people}} ratings in total)</div>\n          </div>\n      </div>\n      <div class=\"Comments\">\n          <div class=\"comment\">\n          <div class=\"peoples\">\n          <el-avatar src=\"https://img.syt5.com/2021/0519/20210519083837846.jpg.420.420.jpg\"></el-avatar>\n          <span>Josh</span>\n          </div>\n          <div>The place is nice but a little bit noisy at night.</div>\n          \n          </div>\n          <div class=\"comment\">\n          <div class=\"peoples\">\n          <el-avatar src=\"https://img.syt5.com/2021/0127/20210127085935853.jpg.420.420.jpg\"></el-avatar>\n          <span>Kate</span>\n          </div>\n          <div>I lived near this place and I don't like it. Prepare moving to other house.</div>\n          </div>\n          <div class=\"comment\">\n              <div class=\"peoples\">\n          <el-avatar src=\"https://img.syt5.com/2021/0127/20210127085207772.png.420.420.jpg\"></el-avatar>\n          <span>Elisa</span>\n          </div>\n          <div>Easy to buy stuff's here!!!</div>\n          </div>\n          <div class=\"comment\">\n          <div class=\"peoples\">\n           <el-avatar src=\"https://img.syt5.com/2021/0826/20210826091718477.jpg.420.420.jpg\"></el-avatar>\n          <span>Lanbert</span>\n          </div>\n          <div>A lot of people here at night, feeling safe when i went home late.</div>\n          </div>\n          <div  v-if=\"comments.length>0\">\n          <div class=\"comment myself\" v-for=\"(c,index) in comments\" :key=\"index+c\">\n            <div class=\"peoples\">\n            <el-avatar src=\"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png\"></el-avatar>\n             <span>me</span>\n          </div>\n    \n          <div>{{c}}</div>\n          </div>\n          </div>\n\n\n\n\n      </div>\n      <el-dialog\n      title=\"Rating and Comments\"\n      :visible.sync=\"dialogVisible\"\n      :close-on-click-modal=\"false\"\n      :show-close=\"false\"\n      :modal=\"false\"\n      width=\"80vw\"\n      >\n      <div class=\"profileRating\">\n              <div>Noisy Level \n                <el-rate\n                v-model=\"value4\"\n                show-score\n                :icon-classes=\"iconClasses1\"\n                score-template=\"  Level {value}\"\n                text-color=\"#ff9900\"\n                void-icon-class=\"icon-rate-face-off\"\n                :colors=\"['#FF9900', '#F7BA2A', '#99A9BF']\">\n                </el-rate>\n             </div>\n              <div>Safety Level\n                <el-rate\n                v-model=\"value5\"\n                :icon-classes=\"iconClasses\"\n                text-color=\"#ff9900\"\n                score-template=\"  Level {value}\"\n                show-score\n                void-icon-class=\"icon-rate-face-off\"\n                :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\">\n                </el-rate>\n              </div>\n              <div>Environment\n                <el-rate\n                v-model=\"value6\"\n                :icon-classes=\"iconClasses\"\n                score-template=\"  Level {value}\"\n                text-color=\"#ff9900\"\n                show-score\n                void-icon-class=\"icon-rate-face-off\"\n                :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\">\n                </el-rate>\n              </div>\n              <div>Comments:\n                  <el-input type=\"textarea\" v-model=\"comment\"></el-input>\n              </div>\n              <div class=\"buttons\">\n              <el-button @click=\"submitComments\">Submit</el-button>\n              <el-button @click=\"cancelComments\">Cancel</el-button>\n              </div>\n        </div>\n\n      </el-dialog>\n      <div class=\"firstline\"><el-button v-if=\"result\" @click=\"resultPage\">Back to result page</el-button>\n      <el-button v-if=\"!result\" @click=\"$router.push('/mcommunity')\">Back to community page</el-button>\n      </div>\n  </div>\n</template>\n\n<script>\nimport '../assets/fonts/style.css'\nexport default {\n    name:\"reviewPage\",\n    mounted(){\n        this.src=this.$route.params.src\n        this.title=this.$route.params.title\n        let pre=this.$route.params.pre\n        if(pre==1){\n            this.result=true\n             this.searchLocations=this.$route.params.searchLocations\n            this.searchLocations2=this.$route.params.searchLocations2\n            this.LocationTypes=this.$route.params.LocationTypes\n\n        }\n        console.log(this.searchLocations)\n        console.log(this.searchLocations2)\n        console.log(this.LocationTypes)\n    },\n    data(){\n        return{\n            src:\"\",\n            title:\"\",\n            value1: 4,\n            value2: 4,\n            value3: 3,\n            value4: 0,\n            value5: 0,\n            value6: 0,\n            searchLocations:[],\n            searchLocations2:[],\n            LocationTypes:[],\n           // \"searchLocations\":this.searchLocations,\"searchLocations2\":this.searchLocations2,\"LocationTypes\":this.LocationTypes\n            result:false,\n            comment:'',\n            comments:[],\n            people:10,\n            iconClasses: ['icon-rate-face-1', 'icon-rate-face-2', 'icon-rate-face-3'],\n            iconClasses1: ['icon-rate-face-3', 'icon-rate-face-2', 'icon-rate-face-1'],\n            dialogVisible:false\n        }\n    },\n    methods:{\n        submitComments(){\n            if(this.comment!=\"\"){\n            this.comments.push(this.comment)\n            this.people+=1\n            this.value1=((this.value4+this.value1*(this.people-1))/this.people).toFixed(1)\n            this.value2=((this.value5+this.value2*(this.people-1))/this.people).toFixed(1)\n            this.value3=((this.value6+this.value3*(this.people-1))/this.people).toFixed(1)\n            this.comment=\"\"\n            this.value4=0\n            this.value5=0\n            this.value6=0\n            this.dialogVisible=false\n            this.$message.success('Comment submitted!')\n\n            }\n            else{\n                this.$message.error('Please enter a valid comment')\n            }\n        },\n        cancelComments(){\n            this.dialogVisible=false\n            this.comment=\"\"\n            this.value4= 0\n            this.value5= 0\n            this.value6= 0\n\n        },\n        resultPage(){\n            this.$router.push(\n                {\n                    name:'firstPage',\n                    params:{\"pre\":2,\"searchLocations\":this.searchLocations,\"searchLocations2\":this.searchLocations2,\"LocationTypes\":this.LocationTypes}\n                }\n            )\n\n        },\n        \n    \n    }\n\n}\n</script>\n\n<style lang=\"less\" scoped>\n.communityReview {\n    margin-top:2vh;\n    height: 72vh;\n    width:100vw;\n    background: white;\n    position: fixed;\n    overflow: scroll;\n    .profileCard{\n        box-sizing: border-box;\n        width: 90vw;\n        height: 530px;\n        border: 1px solid #a1c4fd;\n        margin-left:5vw;\n        margin-top:2vh;\n        box-shadow: 0 0 8px #89b6ff;\n\n        img{\n            width:90vw;\n            height: 300px;\n        }\n        .profileBody{\n            width:90vw;\n             overflow: scroll;\n            .profileTitle{\n                font-family: 'Courier New', Courier, monospace;\n                font-size:25px;\n                text-align: center;\n                margin-bottom: 10px;\n            }\n            .profileFooter{\n                 margin-bottom: 20px;\n                 margin-right:20px;\n                text-align: right;\n                i{\n                    color:orange;\n                }\n                font-size: 12px;\n                \n                //align-items: center;\n\n            \n            }\n            .writeReview{\n                 margin-bottom: 20px;\n                 margin-right:20px;\n                 margin-left:calc(100% - 60px);\n                 cursor: pointer;\n            }\n            .profileRating{\n                 padding-left: 30px;\n                 padding-right:30px;\n                div{\n                    display: flex;\n                    justify-content: space-between;\n                    margin-bottom: 10px;\n                }\n                .el-rate{\n                    margin-left:20px;\n                    \n                }\n            }\n        }\n    }\n        .Comments{\n            height:520px;\n            width:90vw;\n            margin-left:5vw;\n            border: 1px solid #a1c4fd;\n            box-shadow: 0 0 8px #89b6ff;\n             overflow: scroll;\n           \n            margin-top:2vh;\n            padding: 30px;\n            box-sizing: border-box;\n            .comment{\n                display: flex;\n                align-items: center;\n                box-shadow: 0 0 8px #89b6ff;\n                background: #b6d2ff;\n                padding: 20px;\n                margin-bottom:30px;\n                .peoples{\n                    align-items: center;\n                    justify-content: center;\n                    padding: 5px;\n                    display: flex;\n                    flex-direction:column;\n                    .span{\n                        font-weight: bold;\n                    }\n                    // border:1px solid black;\n                    // background: #d9e4f4;\n                   \n                    \n                }\n                div{\n                    \n                    margin-left:20px;\n                }\n\n            }\n\n        }\n        .el-dialog{\n           padding: 20px;\n            text-align: center;\n\n            .buttons{\n                width:100%;\n               \n                .el-button{\n                    background:#a1c4fd;\n                }\n                \n            }\n            .profileRating{\n\n                div{\n                    //display: flex;\n                    margin-bottom: 10px;\n                   \n                }\n                .el-rate{\n                   // margin-left:20px;\n                    \n                }\n            }\n        }\n    }\n\n</style>"]},"metadata":{},"sourceType":"module"}