{"ast":null,"code":"import _defineProperty from \"/Users/lamentoyy/Desktop/rental_project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/lamentoyy/Desktop/rental_project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.string.fixed.js\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, computed, reactive, defineComponent } from \"vue\";\nimport { extend, isHidden, unitToPx, numericProp, getScrollTop, getZIndexStyle, makeStringProp, makeNumericProp, createNamespace } from \"../utils\";\nimport { useRect, useEventListener, useScrollParent } from \"@vant/use\";\nimport { useVisibilityChange } from \"../composables/use-visibility-change\";\n\nvar _createNamespace = createNamespace(\"sticky\"),\n    _createNamespace2 = _slicedToArray(_createNamespace, 2),\n    name = _createNamespace2[0],\n    bem = _createNamespace2[1];\n\nvar stickyProps = {\n  zIndex: numericProp,\n  position: makeStringProp(\"top\"),\n  container: Object,\n  offsetTop: makeNumericProp(0),\n  offsetBottom: makeNumericProp(0)\n};\nvar stdin_default = defineComponent({\n  name: name,\n  props: stickyProps,\n  emits: [\"scroll\", \"change\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n        slots = _ref.slots;\n    var root = ref();\n    var scrollParent = useScrollParent(root);\n    var state = reactive({\n      fixed: false,\n      width: 0,\n      height: 0,\n      transform: 0\n    });\n    var offset = computed(function () {\n      return unitToPx(props.position === \"top\" ? props.offsetTop : props.offsetBottom);\n    });\n    var rootStyle = computed(function () {\n      var fixed = state.fixed,\n          height = state.height,\n          width = state.width;\n\n      if (fixed) {\n        return {\n          width: \"\".concat(width, \"px\"),\n          height: \"\".concat(height, \"px\")\n        };\n      }\n    });\n    var stickyStyle = computed(function () {\n      if (!state.fixed) {\n        return;\n      }\n\n      var style = extend(getZIndexStyle(props.zIndex), _defineProperty({\n        width: \"\".concat(state.width, \"px\"),\n        height: \"\".concat(state.height, \"px\")\n      }, props.position, \"\".concat(offset.value, \"px\")));\n\n      if (state.transform) {\n        style.transform = \"translate3d(0, \".concat(state.transform, \"px, 0)\");\n      }\n\n      return style;\n    });\n\n    var emitScroll = function emitScroll(scrollTop) {\n      return emit(\"scroll\", {\n        scrollTop: scrollTop,\n        isFixed: state.fixed\n      });\n    };\n\n    var onScroll = function onScroll() {\n      if (!root.value || isHidden(root)) {\n        return;\n      }\n\n      var container = props.container,\n          position = props.position;\n      var rootRect = useRect(root);\n      var scrollTop = getScrollTop(window);\n      state.width = rootRect.width;\n      state.height = rootRect.height;\n\n      if (position === \"top\") {\n        if (container) {\n          var containerRect = useRect(container);\n          var difference = containerRect.bottom - offset.value - state.height;\n          state.fixed = offset.value > rootRect.top && containerRect.bottom > 0;\n          state.transform = difference < 0 ? difference : 0;\n        } else {\n          state.fixed = offset.value > rootRect.top;\n        }\n      } else {\n        var clientHeight = document.documentElement.clientHeight;\n\n        if (container) {\n          var _containerRect = useRect(container);\n\n          var _difference = clientHeight - _containerRect.top - offset.value - state.height;\n\n          state.fixed = clientHeight - offset.value < rootRect.bottom && clientHeight > _containerRect.top;\n          state.transform = _difference < 0 ? -_difference : 0;\n        } else {\n          state.fixed = clientHeight - offset.value < rootRect.bottom;\n        }\n      }\n\n      emitScroll(scrollTop);\n    };\n\n    watch(function () {\n      return state.fixed;\n    }, function (value) {\n      return emit(\"change\", value);\n    });\n    useEventListener(\"scroll\", onScroll, {\n      target: scrollParent\n    });\n    useVisibilityChange(root, onScroll);\n    return function () {\n      var _a;\n\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"style\": rootStyle.value\n      }, [_createVNode(\"div\", {\n        \"class\": bem({\n          fixed: state.fixed\n        }),\n        \"style\": stickyStyle.value\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)])]);\n    };\n  }\n});\nexport { stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","ref","watch","computed","reactive","defineComponent","extend","isHidden","unitToPx","numericProp","getScrollTop","getZIndexStyle","makeStringProp","makeNumericProp","createNamespace","useRect","useEventListener","useScrollParent","useVisibilityChange","name","bem","stickyProps","zIndex","position","container","Object","offsetTop","offsetBottom","stdin_default","props","emits","setup","emit","slots","root","scrollParent","state","fixed","width","height","transform","offset","rootStyle","stickyStyle","style","value","emitScroll","scrollTop","isFixed","onScroll","rootRect","window","containerRect","difference","bottom","top","clientHeight","document","documentElement","target","_a","default","call"],"sources":["/Users/lamentoyy/Desktop/rental_project/node_modules/vant/es/sticky/Sticky.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, computed, reactive, defineComponent } from \"vue\";\nimport { extend, isHidden, unitToPx, numericProp, getScrollTop, getZIndexStyle, makeStringProp, makeNumericProp, createNamespace } from \"../utils\";\nimport { useRect, useEventListener, useScrollParent } from \"@vant/use\";\nimport { useVisibilityChange } from \"../composables/use-visibility-change\";\nconst [name, bem] = createNamespace(\"sticky\");\nconst stickyProps = {\n  zIndex: numericProp,\n  position: makeStringProp(\"top\"),\n  container: Object,\n  offsetTop: makeNumericProp(0),\n  offsetBottom: makeNumericProp(0)\n};\nvar stdin_default = defineComponent({\n  name,\n  props: stickyProps,\n  emits: [\"scroll\", \"change\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const root = ref();\n    const scrollParent = useScrollParent(root);\n    const state = reactive({\n      fixed: false,\n      width: 0,\n      height: 0,\n      transform: 0\n    });\n    const offset = computed(() => unitToPx(props.position === \"top\" ? props.offsetTop : props.offsetBottom));\n    const rootStyle = computed(() => {\n      const {\n        fixed,\n        height,\n        width\n      } = state;\n      if (fixed) {\n        return {\n          width: `${width}px`,\n          height: `${height}px`\n        };\n      }\n    });\n    const stickyStyle = computed(() => {\n      if (!state.fixed) {\n        return;\n      }\n      const style = extend(getZIndexStyle(props.zIndex), {\n        width: `${state.width}px`,\n        height: `${state.height}px`,\n        [props.position]: `${offset.value}px`\n      });\n      if (state.transform) {\n        style.transform = `translate3d(0, ${state.transform}px, 0)`;\n      }\n      return style;\n    });\n    const emitScroll = (scrollTop) => emit(\"scroll\", {\n      scrollTop,\n      isFixed: state.fixed\n    });\n    const onScroll = () => {\n      if (!root.value || isHidden(root)) {\n        return;\n      }\n      const {\n        container,\n        position\n      } = props;\n      const rootRect = useRect(root);\n      const scrollTop = getScrollTop(window);\n      state.width = rootRect.width;\n      state.height = rootRect.height;\n      if (position === \"top\") {\n        if (container) {\n          const containerRect = useRect(container);\n          const difference = containerRect.bottom - offset.value - state.height;\n          state.fixed = offset.value > rootRect.top && containerRect.bottom > 0;\n          state.transform = difference < 0 ? difference : 0;\n        } else {\n          state.fixed = offset.value > rootRect.top;\n        }\n      } else {\n        const {\n          clientHeight\n        } = document.documentElement;\n        if (container) {\n          const containerRect = useRect(container);\n          const difference = clientHeight - containerRect.top - offset.value - state.height;\n          state.fixed = clientHeight - offset.value < rootRect.bottom && clientHeight > containerRect.top;\n          state.transform = difference < 0 ? -difference : 0;\n        } else {\n          state.fixed = clientHeight - offset.value < rootRect.bottom;\n        }\n      }\n      emitScroll(scrollTop);\n    };\n    watch(() => state.fixed, (value) => emit(\"change\", value));\n    useEventListener(\"scroll\", onScroll, {\n      target: scrollParent\n    });\n    useVisibilityChange(root, onScroll);\n    return () => {\n      var _a;\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"style\": rootStyle.value\n      }, [_createVNode(\"div\", {\n        \"class\": bem({\n          fixed: state.fixed\n        }),\n        \"style\": stickyStyle.value\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)])]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}