{"ast":null,"code":"import _slicedToArray from \"/Users/lamentoyy/Desktop/rental_project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { FORM_KEY, truthProp, numericProp, preventDefault, createNamespace } from \"../utils\";\nimport { useChildren } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose\";\n\nvar _createNamespace = createNamespace(\"form\"),\n    _createNamespace2 = _slicedToArray(_createNamespace, 2),\n    name = _createNamespace2[0],\n    bem = _createNamespace2[1];\n\nvar formProps = {\n  colon: Boolean,\n  disabled: Boolean,\n  readonly: Boolean,\n  showError: Boolean,\n  labelWidth: numericProp,\n  labelAlign: String,\n  inputAlign: String,\n  scrollToError: Boolean,\n  validateFirst: Boolean,\n  submitOnEnter: truthProp,\n  showErrorMessage: truthProp,\n  errorMessageAlign: String,\n  validateTrigger: {\n    type: [String, Array],\n    default: \"onBlur\"\n  }\n};\nvar stdin_default = defineComponent({\n  name: name,\n  props: formProps,\n  emits: [\"submit\", \"failed\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n        slots = _ref.slots;\n\n    var _useChildren = useChildren(FORM_KEY),\n        children = _useChildren.children,\n        linkChildren = _useChildren.linkChildren;\n\n    var getFieldsByNames = function getFieldsByNames(names) {\n      if (names) {\n        return children.filter(function (field) {\n          return names.includes(field.name);\n        });\n      }\n\n      return children;\n    };\n\n    var validateSeq = function validateSeq(names) {\n      return new Promise(function (resolve, reject) {\n        var errors = [];\n        var fields = getFieldsByNames(names);\n        fields.reduce(function (promise, field) {\n          return promise.then(function () {\n            if (!errors.length) {\n              return field.validate().then(function (error) {\n                if (error) {\n                  errors.push(error);\n                }\n              });\n            }\n          });\n        }, Promise.resolve()).then(function () {\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    };\n\n    var validateAll = function validateAll(names) {\n      return new Promise(function (resolve, reject) {\n        var fields = getFieldsByNames(names);\n        Promise.all(fields.map(function (item) {\n          return item.validate();\n        })).then(function (errors) {\n          errors = errors.filter(Boolean);\n\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    };\n\n    var validateField = function validateField(name2) {\n      var matched = children.find(function (item) {\n        return item.name === name2;\n      });\n\n      if (matched) {\n        return new Promise(function (resolve, reject) {\n          matched.validate().then(function (error) {\n            if (error) {\n              reject(error);\n            } else {\n              resolve();\n            }\n          });\n        });\n      }\n\n      return Promise.reject();\n    };\n\n    var validate = function validate(name2) {\n      if (typeof name2 === \"string\") {\n        return validateField(name2);\n      }\n\n      return props.validateFirst ? validateSeq(name2) : validateAll(name2);\n    };\n\n    var resetValidation = function resetValidation(name2) {\n      if (typeof name2 === \"string\") {\n        name2 = [name2];\n      }\n\n      var fields = getFieldsByNames(name2);\n      fields.forEach(function (item) {\n        item.resetValidation();\n      });\n    };\n\n    var scrollToField = function scrollToField(name2, options) {\n      children.some(function (item) {\n        if (item.name === name2) {\n          item.$el.scrollIntoView(options);\n          return true;\n        }\n\n        return false;\n      });\n    };\n\n    var getValues = function getValues() {\n      return children.reduce(function (form, field) {\n        form[field.name] = field.formValue.value;\n        return form;\n      }, {});\n    };\n\n    var submit = function submit() {\n      var values = getValues();\n      validate().then(function () {\n        return emit(\"submit\", values);\n      }).catch(function (errors) {\n        emit(\"failed\", {\n          values: values,\n          errors: errors\n        });\n\n        if (props.scrollToError && errors[0].name) {\n          scrollToField(errors[0].name);\n        }\n      });\n    };\n\n    var onSubmit = function onSubmit(event) {\n      preventDefault(event);\n      submit();\n    };\n\n    linkChildren({\n      props: props\n    });\n    useExpose({\n      submit: submit,\n      validate: validate,\n      getValues: getValues,\n      scrollToField: scrollToField,\n      resetValidation: resetValidation\n    });\n    return function () {\n      var _a;\n\n      return _createVNode(\"form\", {\n        \"class\": bem(),\n        \"onSubmit\": onSubmit\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n  }\n});\nexport { stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","defineComponent","FORM_KEY","truthProp","numericProp","preventDefault","createNamespace","useChildren","useExpose","name","bem","formProps","colon","Boolean","disabled","readonly","showError","labelWidth","labelAlign","String","inputAlign","scrollToError","validateFirst","submitOnEnter","showErrorMessage","errorMessageAlign","validateTrigger","type","Array","default","stdin_default","props","emits","setup","emit","slots","children","linkChildren","getFieldsByNames","names","filter","field","includes","validateSeq","Promise","resolve","reject","errors","fields","reduce","promise","then","length","validate","error","push","validateAll","all","map","item","validateField","name2","matched","find","resetValidation","forEach","scrollToField","options","some","$el","scrollIntoView","getValues","form","formValue","value","submit","values","catch","onSubmit","event","_a","call"],"sources":["/Users/lamentoyy/Desktop/rental_project/node_modules/vant/es/form/Form.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { FORM_KEY, truthProp, numericProp, preventDefault, createNamespace } from \"../utils\";\nimport { useChildren } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose\";\nconst [name, bem] = createNamespace(\"form\");\nconst formProps = {\n  colon: Boolean,\n  disabled: Boolean,\n  readonly: Boolean,\n  showError: Boolean,\n  labelWidth: numericProp,\n  labelAlign: String,\n  inputAlign: String,\n  scrollToError: Boolean,\n  validateFirst: Boolean,\n  submitOnEnter: truthProp,\n  showErrorMessage: truthProp,\n  errorMessageAlign: String,\n  validateTrigger: {\n    type: [String, Array],\n    default: \"onBlur\"\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  props: formProps,\n  emits: [\"submit\", \"failed\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      children,\n      linkChildren\n    } = useChildren(FORM_KEY);\n    const getFieldsByNames = (names) => {\n      if (names) {\n        return children.filter((field) => names.includes(field.name));\n      }\n      return children;\n    };\n    const validateSeq = (names) => new Promise((resolve, reject) => {\n      const errors = [];\n      const fields = getFieldsByNames(names);\n      fields.reduce((promise, field) => promise.then(() => {\n        if (!errors.length) {\n          return field.validate().then((error) => {\n            if (error) {\n              errors.push(error);\n            }\n          });\n        }\n      }), Promise.resolve()).then(() => {\n        if (errors.length) {\n          reject(errors);\n        } else {\n          resolve();\n        }\n      });\n    });\n    const validateAll = (names) => new Promise((resolve, reject) => {\n      const fields = getFieldsByNames(names);\n      Promise.all(fields.map((item) => item.validate())).then((errors) => {\n        errors = errors.filter(Boolean);\n        if (errors.length) {\n          reject(errors);\n        } else {\n          resolve();\n        }\n      });\n    });\n    const validateField = (name2) => {\n      const matched = children.find((item) => item.name === name2);\n      if (matched) {\n        return new Promise((resolve, reject) => {\n          matched.validate().then((error) => {\n            if (error) {\n              reject(error);\n            } else {\n              resolve();\n            }\n          });\n        });\n      }\n      return Promise.reject();\n    };\n    const validate = (name2) => {\n      if (typeof name2 === \"string\") {\n        return validateField(name2);\n      }\n      return props.validateFirst ? validateSeq(name2) : validateAll(name2);\n    };\n    const resetValidation = (name2) => {\n      if (typeof name2 === \"string\") {\n        name2 = [name2];\n      }\n      const fields = getFieldsByNames(name2);\n      fields.forEach((item) => {\n        item.resetValidation();\n      });\n    };\n    const scrollToField = (name2, options) => {\n      children.some((item) => {\n        if (item.name === name2) {\n          item.$el.scrollIntoView(options);\n          return true;\n        }\n        return false;\n      });\n    };\n    const getValues = () => children.reduce((form, field) => {\n      form[field.name] = field.formValue.value;\n      return form;\n    }, {});\n    const submit = () => {\n      const values = getValues();\n      validate().then(() => emit(\"submit\", values)).catch((errors) => {\n        emit(\"failed\", {\n          values,\n          errors\n        });\n        if (props.scrollToError && errors[0].name) {\n          scrollToField(errors[0].name);\n        }\n      });\n    };\n    const onSubmit = (event) => {\n      preventDefault(event);\n      submit();\n    };\n    linkChildren({\n      props\n    });\n    useExpose({\n      submit,\n      validate,\n      getValues,\n      scrollToField,\n      resetValidation\n    });\n    return () => {\n      var _a;\n      return _createVNode(\"form\", {\n        \"class\": bem(),\n        \"onSubmit\": onSubmit\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}