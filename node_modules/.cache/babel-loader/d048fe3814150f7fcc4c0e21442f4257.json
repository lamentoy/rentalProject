{"ast":null,"code":"import \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"fav_list\",\n  mounted: function mounted() {\n    this.favList = this.$store.state.favList;\n    this.favList1 = this.$store.state.favList1;\n  },\n  data: function data() {\n    return {\n      favList1: [],\n      favList: [],\n      mapShown: false,\n      mapTitle: \"\",\n      mapType: \"\"\n    };\n  },\n  methods: {\n    removeFromFavorite: function removeFromFavorite(index) {\n      this.favList.splice(index, 1);\n      this.$store.commit(\"updatefavList\", this.favList);\n    },\n    removeLocation: function removeLocation(index) {\n      this.favList1.splice(index, 1);\n      this.$store.commit(\"updatefavList1\", this.favList1);\n    },\n    initMap: function initMap(element, index1, index2) {\n      this.mapShown = true;\n      var center = {\n        lat: element[6],\n        lng: element[7]\n      };\n      this.mapTitle = element[0];\n      var map = new window.google.maps.Map(document.getElementById(\"map\"), {\n        zoom: 15,\n        center: center,\n        scrollwheel: false,\n        clickableIcons: false\n      }); // The marker, positioned at Uluru\n\n      var marker = new window.google.maps.Marker({\n        position: center,\n        map: map,\n        title: this.mapTitle\n      });\n      var infoWindow = new window.google.maps.InfoWindow();\n      marker.addListener(\"click\", function () {\n        infoWindow.close();\n        infoWindow.setContent(element[0]);\n        infoWindow.open(marker.getMap(), marker);\n      });\n\n      if (index1 == 1) {\n        var essential = element[1];\n        this.mapType = \"Essential facilities\";\n        essential.forEach(function (places) {\n          var title = places[0];\n          var location = places[1];\n          location.forEach(function (l1) {\n            var geo = l1.geometry.location;\n            var marker1 = new window.google.maps.Marker({\n              position: geo,\n              map: map,\n              title: \"\".concat(title)\n            });\n            marker1.addListener(\"click\", function () {\n              infoWindow.close();\n              infoWindow.setContent(l1.name);\n              infoWindow.open(marker1.getMap(), marker1);\n            });\n          });\n        });\n      }\n\n      if (index1 == 4) {\n        var _essential = element[4][index2];\n        var title = _essential[0];\n        this.mapType = title;\n\n        _essential[1].forEach(function (l1) {\n          var geo = l1.geometry.location;\n          var marker1 = new window.google.maps.Marker({\n            position: geo,\n            map: map,\n            title: \"\".concat(title)\n          });\n          marker1.addListener(\"click\", function () {\n            infoWindow.close();\n            infoWindow.setContent(l1.name);\n            infoWindow.open(marker1.getMap(), marker1);\n          });\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;EACAA,gBADA;EAEAC,OAFA,qBAEA;IACA;IACA;EACA,CALA;EAMAC,IANA,kBAMA;IACA;MACAC,YADA;MAEAC,WAFA;MAGAC,eAHA;MAIAC,YAJA;MAKAC;IALA;EAOA,CAdA;EAeAC;IACAC,kBADA,8BACAC,KADA,EACA;MACA;MAEA;IAGA,CAPA;IAQAC,cARA,0BAQAD,KARA,EAQA;MACA;MAEA;IAEA,CAbA;IAcAE,OAdA,mBAcAC,OAdA,EAcAC,MAdA,EAcAC,MAdA,EAcA;MACA;MAEA;QAAAC;QAAAC;MAAA;MACA;MACA;QACAC,QADA;QAEAC,cAFA;QAGAC,kBAHA;QAIAC;MAJA,GALA,CAWA;;MACA;QACAC,gBADA;QAEAC,QAFA;QAGAC;MAHA;MAKA;MACAC;QACAC;QACAA;QACAA;MACA,CAJA;;MAKA;QACA;QACA;QACAC;UACA;UACA;UAEAC;YACA;YACA;cACAN,aADA;cAEAC,QAFA;cAGAC;YAHA;YAKAK;cACAH;cACAA;cACAA;YACA,CAJA;UAOA,CAdA;QAgBA,CApBA;MAoBA;;MACA;QACA;QACA;QACA;;QACAC;UAEA;UACA;YACAL,aADA;YAEAC,QAFA;YAGAC;UAHA;UAKAK;YACAH;YACAA;YACAA;UACA,CAJA;QAQA,CAhBA;MAkBA;IAEA;EArFA;AAfA","names":["name","mounted","data","favList1","favList","mapShown","mapTitle","mapType","methods","removeFromFavorite","index","removeLocation","initMap","element","index1","index2","lat","lng","zoom","center","scrollwheel","clickableIcons","position","map","title","marker","infoWindow","essential","location","marker1"],"sourceRoot":"src/views","sources":["mfavList.vue"],"sourcesContent":["<template>\n  <div class=\"favList\">\n      <div class=\"result\">Favourite Locations</div>\n      <el-empty v-if=\"favList1.length==0\" description=\"The list is currently empty.\" :image-size=\"320\"></el-empty>\n      <div v-if=\"favList1.length>0\" class=\"resultbody1\">\n          <el-tag\n            v-for=\"(tag,index) in favList1\"\n            :key=\"tag\"\n            type=\"warning\"\n            effect=\"plain\">\n            {{tag}}\n            <i class=\"el-icon-close\" @click=\"removeLocation(index)\"/>\n            </el-tag>\n      </div>\n      <div class=\"result\">Preferred Results</div>\n      <el-empty v-if=\"favList.length==0\" description=\"The list is currently empty.\" :image-size=\"320\"></el-empty>\n      <div v-if=\"favList.length>0\" class=\"resultbody\">\n      \n      <div  v-for='(element, index) in favList' :key=\"element[0]\">\n          <div class=\"firstLine\">\n          <div class=\"names\"><i class=\"el-icon-location-information\"/>{{element[0]}}</div>\n         <div class=\"ratings\">\n         <el-rate v-model=\"element[5]\" \n                disabled\n                show-score\n                text-color=\"#ff9900\"\n                score-template=\"{value} stars\"></el-rate>\n                <div class=\"favIcon\" @click=\"removeFromFavorite(index)\"><img src=\"../assets/removeFav.png\" /></div>\n         </div>\n          </div>\n        <el-button style=\"margin-left:20px;margin-top:1vh\" @click=\"initMap(element,1,0)\" type=\"text\" icon=\"el-icon-s-shop\">show on map</el-button>\n    \n      <div class='eachResult'>\n          \n     <div class=\"mainContent1\" v-for='(item) in element[1]' :key=\"element[0]+item[0]+element[2]\"><i class=\"el-icon-school\" style=\"color:darkblue\"/>{{item[0]}}:{{item[1].length}}</div>\n      \n      </div>\n      </div>\n      </div>\n       <div class=\"showMap\" v-show=\"mapShown\">\n      <div class=\"title\"><div>{{mapType}} near {{mapTitle}}</div><i class=\"el-icon-close\" @click=\"mapShown=false\"></i></div>\n      <div id=\"map\"></div>\n      </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n    name:\"fav_list\",\n    mounted(){\n        this.favList = this.$store.state.favList\n        this.favList1 = this.$store.state.favList1\n    },\n    data(){\n        return{\n            favList1:[],\n            favList:[],\n            mapShown:false,\n             mapTitle:\"\",\n             mapType:\"\"\n        }\n    },\n    methods:{\n        removeFromFavorite(index){\n        this.favList.splice(index,1)\n       \n        this.$store.commit(\"updatefavList\",this.favList)\n        \n\n      },\n       removeLocation(index){\n          this.favList1.splice(index,1)\n       \n        this.$store.commit(\"updatefavList1\",this.favList1)\n\n    },\n    initMap(element,index1,index2) {\n        this.mapShown=true\n      \n        const center = { lat: element[6], lng: element[7] };\n        this.mapTitle=element[0]\n        const map = new window.google.maps.Map(document.getElementById(\"map\"), {\n            zoom: 15,\n            center: center,\n            scrollwheel: false,\n            clickableIcons:false,\n        });\n        // The marker, positioned at Uluru\n        const marker=new window.google.maps.Marker({\n            position: center,\n            map: map,\n            title: this.mapTitle\n        });\n        const infoWindow = new window.google.maps.InfoWindow();\n        marker.addListener(\"click\", () => {\n      infoWindow.close();\n      infoWindow.setContent(element[0]);\n      infoWindow.open(marker.getMap(), marker);\n    });\n    if(index1==1){\n       const essential=element[1]\n       this.mapType=\"Essential facilities\"\n       essential.forEach((places)=>{\n           const title = places[0]\n           const location=places[1]\n           \n           location.forEach((l1)=>{\n               const geo = l1.geometry.location\n               const marker1=new window.google.maps.Marker({\n                position: geo,\n                map: map,\n                title: `${title}`,\n                 });\n                 marker1.addListener(\"click\", () => {\n                infoWindow.close();\n                infoWindow.setContent(l1.name);\n                infoWindow.open(marker1.getMap(), marker1);\n                 });\n        \n\n           })\n\n       })}\n       if(index1==4){\n           const essential=element[4][index2]\n           const title = essential[0]\n           this.mapType=title\n       essential[1].forEach((l1)=>{\n           \n               const geo = l1.geometry.location\n               const marker1=new window.google.maps.Marker({\n                position: geo,\n                map: map,\n                title: `${title}`,\n                 });\n                 marker1.addListener(\"click\", () => {\n                infoWindow.close();\n                infoWindow.setContent(l1.name);\n                infoWindow.open(marker1.getMap(), marker1);\n                 });\n        \n\n\n       })\n\n       }\n       \n        }\n    }\n\n\n}\n</script>\n\n<style lang=\"less\" scoped>\n.favList {\n\n    \n    z-index:1;\n    margin-bottom:10px;\n    padding: 2vw;\n    margin-top:1vh;  \n    width:96vw;\n    height: 60vh;\n    overflow: scroll;\n    .showMap{\n        position: fixed;\n        background: white;\n        box-shadow: 0 0 2px #7d9cce;\n        z-index: 2;\n        left:5vw;\n        top:18vh;\n        overflow: scroll;\n        width:90vw;\n        .title{\n            display: flex;\n            align-items: center;\n            padding:20px;\n             justify-content: space-between;\n             font:16px;\n             color: #174287;\n        }\n        i{\n            cursor: pointer;\n        }\n     \n    #map{\n        height: 60vh;\n        width:90vw;\n    }}\n    .el-empty{\n         margin-left: calc(50vw - 160px)\n         \n    }\n    .result{\n       \n        font-size:18px;\n        padding-left:20px;\n        color:#6999e7;\n        font-weight: bold;\n        border-left: 4px solid #a1c4fd;\n    }\n    .resultbody1{\n        display: flex;\n        flex-wrap: wrap;\n        border-top: 1px  solid #a1c4fd;\n          margin-top:10px;\n          margin-bottom: 15px;\n         .el-tag{\n             margin-top:1vh;\n             background-image: linear-gradient(120deg, #2464cb 0%, #7ad5ff 100%);\n             color: white;\n             border:1px  solid #a1c4fd;\n            box-shadow: 0 1px 8px rgba(0,0,0,0.2);\n            margin-right: 15px;\n         }}\n    .resultbody{\n        display: flex;\n        justify-content: space-between;\n        flex-wrap: wrap;\n         border-top: 1px  solid #a1c4fd;\n         margin-top:1vh;\n\n        & > div{\n            width:90vw;\n            margin-top:4vh;\n            margin-left:3vw;\n            box-sizing: border-box;\n            border:1px  solid #a1c4fd;\n            box-shadow: 0 1px 8px rgba(0,0,0,0.2);\n           // text-align: center;\n           \n            .firstLine{\n                display: flex;\n                justify-content: space-between;\n                background-image: linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%);\n                 border-bottom:1px  solid #a1c4fd;\n                padding: 15px;\n                .names{\n                width:auto;\n                font-size: 18px;\n                //border-bottom:2px  solid #7d9cce;\n                 display: flex;\n                align-items: center;\n                color:rgb(12, 44, 96);\n                font-weight: 14px;\n                i{\n                    color:red;\n                    margin-right:2px;\n                }\n               // margin-bottom:15px;\n    \n                 //text-decoration-thickness: 2px;\n                }\n                .ratings{\n                     display: flex;\n                     justify-content: space-between;\n                     align-items: center;\n                     .favIcon, img{\n                         width:16px;\n                         height: 16px;\n                     }\n                     .favIcon{\n                         margin-left:10px;\n                     }\n\n                }\n            }\n\n            .smallTitle{\n                padding:15px 0;\n                margin:0 15px;\n                border-bottom:2px  dashed #7d9cce;\n                clear:both;\n            }\n            .eachResult{\n                 padding:15px;\n                 i{\n                    color:red;\n                    margin-right:2px;\n                }\n                 .mainContent{\n                     padding:20px;\n                     display:flex;\n                    justify-content: space-between;\n                    flex-wrap: wrap;\n\n\n                 }\n                 .mainContent1{\n                     padding:10px;\n                     float: left;\n                     margin-bottom: 10px;\n                    div{\n                        width: auto;}\n\n\n                 }\n            }\n            \n        }\n\n    }\n    .clickable{\n        cursor: pointer;\n    }\n    .mg-bt-10{\n        margin-bottom: 10px;\n    }\n\n    .opTitle{\n        border-left: 4px  solid #a1c4fd;\n        color:rgb(12, 44, 96);\n        font-weight: bold;\n        padding-left:10px;\n        display: flex;\n        align-items: center;\n    }\n        \n    \n    .tagsLoc .el-tag{\n        margin-top:10px;\n        float:left;\n        margin-right:20px;\n    }\n   \n    .SearchBox{\n        display: flex;\n        justify-content: space-around;\n        align-items: center;\n        margin-bottom:10px;\n         //border-bottom:1px solid #a1c4fd;\n        .el-input{\n            width:calc(100% - 160px);\n            margin:20px 0;\n             height: 32px;\n        }\n   \n        .el-button{\n            height: 32px;\n             width:60px;\n             margin:0;\n            background: #effaff;\n            font-size:11px;\n            padding: 10px; \n          \n\n        }\n    }\n  }\n\n</style>"]},"metadata":{},"sourceType":"module"}